<script type="application/x-glsl" id="fluid-visualizer">
precision highp float;
varying vec2 vUv;

uniform sampler2D sampler;
uniform sampler2D particles;

const vec4 dyeColor = vec4(0.3, .5, 1.1, 1.0);

void main() {

  float dye = texture2D(sampler, vUv).z;
  vec4 particlesTexture = texture2D(particles, vUv);
  
  gl_FragColor = dye * dyeColor + particlesTexture;
}
</script>